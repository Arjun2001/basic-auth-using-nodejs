(function(e){function t(t){for(var s,a,i=t[0],u=t[1],l=t[2],d=0,m=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&m.push(n[a][0]),n[a]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);c&&c(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],s=!0,i=1;i<r.length;i++){var u=r[i];0!==n[u]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},n={app:0},o=[];function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},"10f8":function(e,t,r){"use strict";var s=r("9f25"),n=r.n(s);n.a},2:function(e,t){},3:function(e,t){},4:function(e,t){},4045:function(e,t,r){e.exports=r.p+"img/loading.9064981b.svg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[e._m(0),r("router-view",{staticClass:"container pt-2"})],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[r("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e._v("Auth for NEwBS")])])}],a=r("2877"),i={},u=Object(a["a"])(i,n,o,!1,null,null,null),l=u.exports,c=(r("435e"),r("8c4f")),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home text-center"},[r("div",{staticClass:"jumbotron"},[r("h1",{staticClass:"display-3"},[e._v("Authentication for NeBS")]),r("p",{staticClass:"lead"},[e._v("Learning Auth is Fun")]),r("hr",{staticClass:"my-4"}),r("p",[e._v("Hello Folksksksks")]),r("p",{staticClass:"lead"},[r("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:{name:"Signup"}}},[e._v(" Sign up")])],1),r("button",{staticClass:"btn btn-info login",on:{click:e.changetologin}},[e._v("Sign in ")])])])},m=[],p={name:"Home",methods:{changetologin:function(){this.$router.push("/login")}}},f=p,g=(r("6322"),Object(a["a"])(f,d,m,!1,null,"6697f493",null)),h=g.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("h1",[e._v("SignUp")]),e.signingUp?s("div",[s("img",{attrs:{src:r("4045")}})]):e._e(),e.errorMessage?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(this.errorMessage)+" ")]):e._e(),e.signingUp?e._e():s("form",{on:{submit:function(t){return t.preventDefault(),e.Signup(t)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username","aria-describedby":"usernameHelp",required:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),s("h5",{staticClass:"form-text text-muted",attrs:{id:"usernameHelp"}},[e._v("Username must be longer than 2 characters and shorter than 30. Username must only contain alphanumeric characters and underscores.")])]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-6"},[s("label",{attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password","aria-describedby":"passwordHelp",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),s("h5",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[e._v("Password must be longer than 6 characters or more.")])]),s("div",{staticClass:"form-group col-md-6"},[s("label",{attrs:{for:"confirmPassword"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],staticClass:"form-control",attrs:{type:"password",id:"confirmPassword","aria-describedby":"confirmpasswordHelp",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}}),s("h5",{staticClass:"form-text text-muted",attrs:{id:"confirmpasswordHelp"}},[e._v("Please confirm your password.")])])]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("SignUp")])])])},b=[],w=(r("caad"),r("d3b7"),r("2532"),r("498a"),r("ddb0"),r("f0b1")),_=r.n(w),y="auth/signup",C=_.a.object().keys({username:_.a.string().regex(/(^[a-zA-Z0-9_]*$)/).min(2).max(30).required(),password:_.a.string().min(6).required().trim(),confirmPassword:_.a.string().min(6).required().trim()}),x={data:function(){return{signingUp:!1,errorMessage:"",user:{username:"",password:"",confirmPassword:""}}},watch:{user:{handler:function(){this.errorMessage=""},deep:!0}},methods:{validUser:function(){if(this.user.password!=this.user.confirmPassword)return this.errorMessage="Password must match!",!1;var e=_.a.validate(this.user,C);return null===e.error||(e.error.message.includes("username")?this.errorMessage="Username is Invalid":this.errorMessage="password is Invalid",!1)},Signup:function(){var e=this;if(this.errorMessage="",this.validUser()){var t={username:this.user.username,password:this.user.password};this.signingUp=!0,fetch(y,{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(t){if(t.ok)return e.signingUp=!1,t.json();t.json().then((function(t){e.signingUp=!1,e.errorMessage=t.message}))})).then((function(t){localStorage.token=t.token,setTimeout((function(){e.signingUp=!1,e.$router.push("/dashboard")}),3e3)})).catch((function(t){setTimeout((function(){e.signingUp=!1,e.errorMessage=t.message}),1e3)}))}}}},P=x,k=Object(a["a"])(P,v,b,!1,null,"767757a5",null),N=k.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("h1",[e._v("Login")]),e.LoggingIn?s("div",[s("img",{attrs:{src:r("4045")}})]):e._e(),e.errorMessage?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(this.errorMessage)+" ")]):e._e(),e.LoggingIn?e._e():s("form",{on:{submit:function(t){return t.preventDefault(),e.login()}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username","aria-describedby":"usernameHelp",required:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),s("h5",{staticClass:"form-text text-muted",attrs:{id:"usernameHelp"}},[e._v(" Enter Username to Login")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password","aria-describedby":"passwordHelp",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),s("h5",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[e._v(" Enter password to Login")])]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Login")])])])},j=[],M="auth/login",O=_.a.object().keys({username:_.a.string().regex(/(^[a-zA-Z0-9_]*$)/).min(2).max(30).required(),password:_.a.string().min(6).required().trim()}),U={data:function(){return{errorMessage:"",LoggingIn:!1,user:{username:"",password:""}}},methods:{login:function(){var e=this;if(this.errorMessage="",this.validUser()){var t={username:this.user.username,password:this.user.password};this.LoggingIn=!0,fetch(M,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(t){if(e.LoggingIn=!1,t.ok)return t.json();t.json().then((function(t){throw e.errorMessage=t.message,new Error(t.message)}))})).then((function(t){localStorage.token=t.token,setTimeout((function(){console.log(t),e.$router.push("/dashboard")}),3e3)})).catch((function(t){setTimeout((function(){e.errorMessage=t.message}),1e3)}))}},validUser:function(){var e=_.a.validate(this.user,O);return null===e.error||(e.error.message.includes("username")?this.errorMessage="Username is Invalid":this.errorMessage="password is Invalid",!1)}}},$=U,E=Object(a["a"])($,S,j,!1,null,"261ace3d",null),H=E.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("h1",[e._v("Dashboard")]),r("h1",[e._v("Hello, "+e._s(e.user)+"!!")]),r("button",{staticClass:"btn btn-primary",on:{click:e.logout}},[e._v("Logout")]),r("br"),r("br"),r("button",{staticClass:"btn btn-info",on:{click:function(t){e.showForm=!e.showForm}}},[e._v("Toggle form")]),e.showForm?r("form",{on:{submit:function(t){return t.preventDefault(),e.addNote()}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"title"}},[e._v("TITLE")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newNote.title,expression:"newNote.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",required:""},domProps:{value:e.newNote.title},on:{input:function(t){t.target.composing||e.$set(e.newNote,"title",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"note"}},[e._v("Note")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newNote.note,expression:"newNote.note"}],staticClass:"form-control",attrs:{id:"note",rows:"3",placeholder:"Enter your note",required:""},domProps:{value:e.newNote.note},on:{input:function(t){t.target.composing||e.$set(e.newNote,"note",t.target.value)}}})]),r("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Add Note")])]):e._e(),r("section",{staticClass:"row mt-3"},e._l(e.notes,(function(t){return r("div",{key:t._id,staticClass:"col-4"},[r("div",{staticClass:"card border-info mb-3"},[r("div",{staticClass:"card-header"},[e._v(e._s(t.body.title))]),r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title"}),r("p",{staticClass:"card-text",domProps:{innerHTML:e._s(e.renderMarkDown(t.body.note))}})])])])})),0)])},L=[],q=r("d4cd"),I=r.n(q),F=r("362d"),A=r.n(F),D=new I.a;D.use(A.a);var z="http://localhost:5000/",B={data:function(){return{user:null,showForm:!1,newNote:{title:"",note:""},notes:[]}},methods:{renderMarkDown:function(e){return D.render(e)},logout:function(){localStorage.removeItem("token"),this.$router.push("/login")},addNote:function(){var e=this;fetch("api/v1/notes",{method:"POST",body:JSON.stringify(this.newNote),headers:{"content-type":"application/json",authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){return e.json()})).then((function(t){e.notes.push(t),console.log(t),e.newNote={title:"",note:""},e.showForm=!1}))},getNotes:function(){var e=this;fetch("api/v1/notes",{headers:{authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){return e.json()})).then((function(t){e.notes=t}))}},mounted:function(){var e=this;fetch(z,{headers:{authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){return e.json()})).then((function(t){t.user?(e.user=t.user.username,e.getNotes()):e.logout()}))}},J=B,Z=(r("10f8"),Object(a["a"])(J,T,L,!1,null,"2a45dd84",null)),G=Z.exports;function K(e,t,r){localStorage.token?r("/dashboard"):r()}function Q(e,t,r){localStorage.token?r():r("/login")}s["a"].use(c["a"]);var R=[{path:"/",name:"Home",component:h},{path:"/signup",name:"Signup",component:N,beforeEnter:K},{path:"/login",name:"login",component:H,beforeEnter:K},{path:"/dashboard",name:"dashboard",component:G,beforeEnter:Q}],V=new c["a"]({routes:R}),W=V;s["a"].config.productionTip=!1,new s["a"]({router:W,render:function(e){return e(l)}}).$mount("#app")},6322:function(e,t,r){"use strict";var s=r("eed5"),n=r.n(s);n.a},"9f25":function(e,t,r){},eed5:function(e,t,r){}});
//# sourceMappingURL=app.63019d92.js.map